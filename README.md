# Graph Analytics for Rural Bus Route Planning

## Abstract
Rural areas are attractive due to their green, open spaces and affordable housing. Recently, increasing possibilities to work from home are making rural living more feasible for many individuals. These regions, however, often lack adequate public transport offerings causing mobility-related exclusion and an over-reliance on cars for transport. Dependence on personal transport is a major contributor to greenhouse gas emissions. This study aims to address these issues by investigating if accessibility to rural public transport can be improved by using graph analytics for bus route planning. The road network of Donegal is used as the study region for conducting this research.

After reviewing literature on graph theory, several graph-based algorithms were identified to enable the planning of a new bus network. The coverage area of routes was determined by finding communities with graph clustering while ranking the nodes of the graph provided start and end points for the route pathfinding process. Tests to address the aim of the study involved comparing the accessibility and estimated operating costs of the bus network generated by this study with the existing network. The results of these tests show the new routes are considerably more accessible while costing approximately one-tenth more than the existing system.

The results observed indicate this approach could be applied to improve bus services in rural settings to benefit inhabitants, transport operators and the environment. Future directions for research in this field could incorporate machine learning methods to dynamically create timetables and deploy additional buses when required.

---
### Jupyter Notebook Sequence
- Graph Creation:
  
  1. [Create Graph](https://github.com/ancodia/donegal-bus-routes/blob/master/graph/notebooks/create_graph.ipynb)
  2. [Process Population Data](https://github.com/ancodia/donegal-bus-routes/blob/master/graph/notebooks/donegal_population_data.ipynb)
  3. [Apply Population as Edge Weights](https://github.com/ancodia/donegal-bus-routes/blob/master/graph/notebooks/apply_edge_weights.ipynb)
  
- Route Planning:

  1. [Community Detection](https://github.com/ancodia/donegal-bus-routes/blob/master/route_planning/notebooks/community_detection.ipynb)
  2. [Node Ranking](https://github.com/ancodia/donegal-bus-routes/blob/master/route_planning/notebooks/node_ranking.ipynb)
  3. [Route Pathfinding](https://github.com/ancodia/donegal-bus-routes/blob/master/route_planning/notebooks/route_pathfinding.ipynb)
 
- Testing Accessibility:
  
  1. [Add Actual Bus Routes to Graph](https://github.com/ancodia/donegal-bus-routes/blob/master/testing/notebooks/add_locallink_bus_stops_to_graph.ipynb)
  2. [Prepare Test Graph](https://github.com/ancodia/donegal-bus-routes/blob/master/testing/notebooks/prepare_test_graph.ipynb)
  3. [Testing](https://github.com/ancodia/donegal-bus-routes/blob/master/testing/notebooks/testing.ipynb)
---

### Docker
This project can be built as a Docker container so that the included Jupyter notebooks can be inspected and run as follows:

Prerequisites: Install Docker (https://www.docker.com/get-started)

- Clone the repository and build the Docker container:
  ```
  git clone https://github.com/ancodia/donegal-bus-routes.git
  cd donegal-bus-routes
  docker build -t donegal-bus-routes .
  ```

- Run a container, mounting the project directory:
  
  - Linux:
  ```
  docker run --rm -v $(pwd):/donegal-bus-routes -p 8888:8888 donegal-bus-routes
  ```
  - Windows cmd (untested):
  ```
  docker run --rm -v %cd%:/donegal-bus-routes -p 8888:8888 donegal-bus-routes
  ```
  
- Open the link found in the Docker terminal window like: http://127.0.0.1:8888/?token=...
